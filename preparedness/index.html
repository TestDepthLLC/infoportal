---
layout: default
title: Emergency Preparedness
description: Build resilience with checklists, calculators, and printable guides.
---

<section class="hero">
  <div class="container">
    <nav class="breadcrumbs" aria-label="Breadcrumb">
      <a href="{{ site.baseurl }}/">Home</a>
      <span aria-hidden="true">â€º</span>
      <span>Emergency Preparedness</span>
    </nav>
    <h1>Emergency Preparedness</h1>
    <p>Build resilience for outages, disasters, and evacuations with practical guides & checklists.</p>

    <!-- Auto-generate chips from collection tags -->
    {% assign tag_list = "" | split: "" %}
    {% for doc in site.preparedness %}
      {% assign tags = doc.tags | arrayify %}
      {% assign tag_list = tag_list | concat: tags %}
    {% endfor %}
    {% assign tag_list = tag_list | uniq | sort %}

    <div class="chips" role="list" aria-label="Filter" style="margin-top:1rem">
      <button class="chip active" data-filter="all">All</button>
      {% for t in tag_list %}
        {% if t != "" %}
          <button class="chip" data-filter="{{ t | downcase }}">{{ t }}</button>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</section>

<section>
  <div class="container">
    <h2>Guides & Checklists</h2>
    <div class="grid">
      {% assign items = site.preparedness | sort: "title" %}
      {% for item in items %}
        {% include card.html item=item %}
      {% endfor %}
    </div>
  </div>
</section>

<!-- Page-scoped script (module) to avoid global collisions) -->
<script type="module">
  // Minimal chip filtering
  const chips = [...document.querySelectorAll('.chip')];
  let active = 'all';
  function filter() {
    document.querySelectorAll('.grid .card').forEach(card => {
      const tags = (card.dataset.tags || '').toLowerCase();
      card.style.display = (active !== 'all' && !tags.includes(active)) ? 'none' : '';
    });
  }
  chips.forEach(btn => btn.addEventListener('click', () => {
    active = btn.dataset.filter;
    chips.forEach(c => c.classList.toggle('active', c === btn));
    filter();
  }));
  filter();
</script>

<!-- Temporary chip styles (we can move these to the layout later) -->
<style>
  .chips{display:flex;gap:.5rem;flex-wrap:wrap}
  .chip{border:1px solid var(--border);background:var(--card);color:var(--text);
        padding:.35rem .6rem;border-radius:999px;cursor:pointer;font-size:.9rem}
  .chip.active{outline:2px solid color-mix(in oklab, var(--brand) 60%, transparent)}
</style>
